\chapter{绪论}
\label{chap:1}

\section{背景介绍}

在计算机历史上，每一次技术的进化都伴随着数据的爆炸，这些海量增长的数据日益成为人们所关注的焦点。通过这些海量数据，服务提供商可以分析并提取出用户的喜好，从而更加快捷、精准的向用户推送服务，而在计算机行业内，如何高效快速的处理这些海量数据，一直是学术界所热议的话题。

MapReduce是Google公司在2004年在OSDI国际会议上提出的一种简单的并行计算模型\cite{paper:Google-MapReduce}，它借鉴了函数式编程语言的特点，将大规模数据的分布式处理程序抽象为一个运行在分布式集群上的两个用户自定义函数：Map（映射）函数和Reduce（化简）函数，从而实现了分布式处理海量数据。如今，MapReduce已经被广泛应用在大规模数据排序，日志分析，数据挖掘，机器学习等领域，它的出现极大程度简化了编写处理大规模数据的分布式程序的难度，使用户可以忽略底层处理细节的前提下快捷的开发出分布式程序。目前已有很多基于大规模集群环境的MapReduce框架的实现，其中使用最广泛的是Yahoo基于Java实现的Hadoop。

Hadoop是一个分布式系统基础架构\cite{site:Hadoop}，由Apache基金会开发。其主要功能是为MapReduce的实现提供底层支持，包括集群管理、文件存储和容错容灾。Hadoop 实现了MapReduce框架，使得Hadoop具有能够对大量数据进行分布式处理能力。同时Hadoop 是可靠的，因为它假设计算元素和存储会失败并维护多个工作数据副本，确保能够针对失败的节点重新分布处理。Hadoop 是高效的，因为它以并行的方式工作，通过并行处理加快处理速度。Hadoop还是可伸缩的，能够处理PB级数据。此外，Hadoop依赖于社区服务器，因此它的成本比较低，任何人都可以使用。

本文的研究就是基于Hadoop和MapReduce之上的。

\section{国内外现状}
MapReduce编程模型的思想来源于函数式编程语言Lisp，由Google公司于2004年提出并首先应用于大型集群。同时，Google也发表了GFS、BigTable等底层系统以应用MapReduce模型。在2007年，Google’s MapReduce Programming Model-Revisted论文发表，进一步详细介绍了Google MapReduce模型以及Sazwall并行处理海量数据分析语言。Google公司以MapReduce作为基石，逐步发展成为全球互联网企业的领头羊。

Hadoop作为Apache基金会资助的开源项目，由Doug Cutting带领的团队进行开发，基于Lucene和Nutch等开源项目，实现了Google的GFS和MapReduce思想。在2004年，Doug Cutting和Mike Cafarella实现了Hadoop分布式文件系统和MapReduce并发布了最初版；2005年12月，Hadoop能够稳定运行在20个节点的集群；2006年1月，Doug Cutting加入雅虎公司，同年2月Apache Hadoop项目正式支持HDFS和MapReduce的独立开发。同时，新兴公司Cloudera为Hadoop提供了商业支持，帮助企业实现标准化安装，并志愿贡献社区。2011年12月27日，Apache Hadoop团队表示，经历了六年的风雨，Hadoop已经可以应用于正式生产中，且已经被（包括很多大公司）广泛应用，为了终结关于它是否成熟的争论（有些客户希望在应用前看到版本号是1.0），因此团队决定直接从0.20版跳至1.0版。

目前，在企业界和学术界对Hadoop的关注度都非常高，全球很多公司和机构都已将Hadoop投入生产环境中使用。

2008年2月，雅虎宣布搭建出世界上最大的基于Hadoop的集群系统—Yahoo! Search Webmap\cite{site:Yahoo}，另外还被广泛应用到雅虎的日志分析、广告计算、科研实验中；Amazon的搜索门户A9.com中的商品搜索的索引生成就是基于Hadoop完成的；互联网电台和音乐社区网站Last.fm使用Hadoop集群运行日志分析、A/B测试评价、AdHoc处理和图表生成等日常作业；著名SNS网站Facebook用Hadoop构建了整个网站的数据仓库，使用Hadoop进行网站的日志分析和数据挖掘。

UC Berkeley等著名高校也对Hadoop进行应用和研究，以提高其整体性能，包括Matei Zaharia等人改进了Hadoop的推测式执行技术并发表了Improving MapReduce Performance in Heterogeneous Environment\cite{paper:Hadoop-Performance-in-Heterogeneous}；Tyson Condie等人改进了MapReduce体系，允许数据在操作之间用管道传送，开发了Hadoop Online Prototype（HOP）系统，并发表了MapReduce Online。

2008年之后，国内应用和研究Hadoop的企业也越来越多，包括淘宝、百度、腾讯、网易、金山等。淘宝是国内最先使用Hadoop的公司之一；百度在Hadoop上进行广泛应用并对它进行改进和调整，同时赞助了HyperTable的开发。Hadoop已经成为大公司做分布式集群运行MapReduce程序的首选软件。

\section{本文工作和章节介绍}
本文以Web访问日志处理程序的设计为主线，介绍并分析了Hadoop和MapReduce的运作原理，进而总结出基于Hadoop的MapReduce框架的潜在瓶颈。

第一章、绪论。介绍研究背景及国内外现状。

第二章、背景介绍。介绍MapReduce和Hadoop的原理和发展过程以及Web访问日志的格式和作用。

第三章、基于Hadoop的MapReduce程序设计。介绍Web访问日志处理程序的程序功能、程序运行流程、适用于两种Hadoop运行方式的程序的开发和运行及其性能测试。

第四章、基于Hadoop的MapReduce实现的性能分析。通过对第三章中所开发的程序的运行结果分析，找出Hadoop及MapReduce框架的性能瓶颈。

第五章、总结